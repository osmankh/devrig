{
  "id": "github",
  "name": "GitHub",
  "version": "0.1.0",
  "description": "GitHub integration â€” sync PRs and issues, AI code review, and repository actions",
  "author": { "name": "DevRig", "url": "https://devrig.dev" },
  "auth": { "type": "oauth", "providerId": "github" },
  "permissions": {
    "network": ["api.github.com"],
    "secrets": ["github_token"],
    "ai": true
  },
  "preferences": [
    {
      "id": "sync_interval_ms",
      "label": "Sync Interval",
      "type": "select",
      "description": "How often to sync from GitHub",
      "default": "300000",
      "options": [
        { "label": "1 minute", "value": "60000" },
        { "label": "5 minutes", "value": "300000" },
        { "label": "15 minutes", "value": "900000" },
        { "label": "1 hour", "value": "3600000" }
      ]
    },
    {
      "id": "auto_review",
      "label": "Auto AI code review",
      "type": "toggle",
      "description": "Automatically run AI code review on new PRs",
      "default": true
    },
    {
      "id": "review_detail_level",
      "label": "Review detail level",
      "type": "select",
      "description": "How thorough AI code reviews should be",
      "default": "standard",
      "options": [
        { "label": "Brief", "value": "brief" },
        { "label": "Standard", "value": "standard" },
        { "label": "Thorough", "value": "thorough" }
      ]
    },
    {
      "id": "sync_issues",
      "label": "Sync assigned issues",
      "type": "toggle",
      "description": "Include assigned issues in sync",
      "default": true
    }
  ],
  "capabilities": {
    "dataSources": [
      {
        "id": "pull-requests",
        "name": "Pull Requests",
        "entryPoint": "src/index.js",
        "syncInterval": 120,
        "description": "Syncs PRs where user is assignee or reviewer"
      },
      {
        "id": "issues",
        "name": "Issues",
        "entryPoint": "src/index.js",
        "syncInterval": 180,
        "description": "Syncs issues assigned to or mentioning the user"
      }
    ],
    "actions": [
      {
        "id": "approve",
        "name": "Approve PR",
        "entryPoint": "src/index.js",
        "description": "Submit an approval review on a pull request",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "body": { "type": "string" }
        }
      },
      {
        "id": "request-changes",
        "name": "Request Changes",
        "entryPoint": "src/index.js",
        "description": "Submit a request-changes review",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "body": { "type": "string", "required": true }
        }
      },
      {
        "id": "comment",
        "name": "Comment",
        "entryPoint": "src/index.js",
        "description": "Post a comment on a PR or issue",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "body": { "type": "string", "required": true }
        }
      },
      {
        "id": "merge",
        "name": "Merge PR",
        "entryPoint": "src/index.js",
        "description": "Merge a pull request",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "mergeMethod": { "type": "string" }
        }
      },
      {
        "id": "assign",
        "name": "Assign",
        "entryPoint": "src/index.js",
        "description": "Assign users to an issue or PR",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "assignees": { "type": "array", "required": true }
        }
      },
      {
        "id": "add-label",
        "name": "Add Label",
        "entryPoint": "src/index.js",
        "description": "Add labels to an issue or PR",
        "parameters": {
          "itemId": { "type": "string", "required": true },
          "labels": { "type": "array", "required": true }
        }
      },
      {
        "id": "close",
        "name": "Close Issue",
        "entryPoint": "src/index.js",
        "description": "Close an issue or PR",
        "parameters": {
          "itemId": { "type": "string", "required": true }
        }
      }
    ],
    "aiPipelines": [
      {
        "id": "review-pr",
        "name": "AI Code Review",
        "entryPoint": "src/index.js",
        "trigger": "onNewItems",
        "description": "AI-review PR diffs for bugs, style issues, and performance concerns"
      },
      {
        "id": "summarize-changes",
        "name": "Summarize Changes",
        "entryPoint": "src/index.js",
        "trigger": "onNewItems",
        "description": "Generate a 2-3 sentence summary of PR changes"
      }
    ]
  }
}
